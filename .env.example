# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                     QuantVision v2.0 - 环境变量配置                          ║
# ╠══════════════════════════════════════════════════════════════════════════════╣
# ║  复制此文件为 .env 并填写实际值                                              ║
# ║  cp .env.example .env                                                        ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# ===== 数据库配置 (PostgreSQL/TimescaleDB) =====
DB_HOST=localhost
DB_PORT=5432
DB_NAME=quantvision
DB_USER=quantvision
DB_PASSWORD=quantvision123
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ===== Redis 配置 =====
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}

# ===== Alpaca API (美股数据/交易) =====
# 获取 API Key: https://app.alpaca.markets/
ALPACA_API_KEY=your_api_key_here
ALPACA_SECRET_KEY=your_secret_key_here
# Paper Trading (模拟): https://paper-api.alpaca.markets
# Live Trading (实盘): https://api.alpaca.markets
ALPACA_BASE_URL=https://paper-api.alpaca.markets

# ===== Polygon API (可选，备用数据源) =====
POLYGON_API_KEY=

# ===== FRED API (宏观经济数据) =====
# 获取 API Key: https://fred.stlouisfed.org/docs/api/api_key.html
FRED_API_KEY=

# ===== 应用配置 =====
APP_ENV=development
APP_DEBUG=true
APP_SECRET_KEY=your-super-secret-key-change-in-production

# ===== 日志配置 =====
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ===== 服务端口 =====
BACKEND_PORT=8000
FRONTEND_PORT=5173

# ===== 前端配置 (Vite) =====
VITE_API_URL=http://localhost:8000
VITE_WS_URL=ws://localhost:8000

# ===== Celery 配置 (异步任务) =====
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# ===== 安全配置 =====
CORS_ORIGINS=http://localhost:5173,http://localhost:3000
JWT_SECRET_KEY=your-jwt-secret-key
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ===== 性能配置 =====
# 数据库连接池大小
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
# API 请求限制 (每分钟)
RATE_LIMIT_PER_MINUTE=100

# ===== S3 存储配置 (Sprint 10) =====
S3_ENDPOINT=https://files.massive.com
S3_ACCESS_KEY=your_s3_access_key
S3_SECRET_KEY=your_s3_secret_key
S3_BUCKET=flatfiles

# ===== 监控配置 (Sprint 13) =====
SENTRY_DSN=
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_ROOT_URL=http://localhost:3001

# ===== 生产环境配置 (Sprint 14) =====
# 注意: 生产环境必须修改以下配置
# ENVIRONMENT=production
# DEBUG=false
# LOG_FORMAT=json
# APP_SECRET_KEY=<生成强随机密钥>
# JWT_SECRET_KEY=<生成强随机密钥>
