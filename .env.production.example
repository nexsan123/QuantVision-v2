# QuantVision Production Environment Configuration
# Phase 14: 生产部署
#
# Copy this file to .env.production and fill in the values
# NEVER commit .env.production to version control!
#
# ============================================================================

# ============ 基础配置 ============
APP_NAME=QuantVision
APP_VERSION=2.0.0
ENVIRONMENT=production
DEBUG=false

# ============ 安全配置 ============
# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-here
JWT_SECRET_KEY=your-jwt-secret-key-here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# API Key 加密密钥 (用于加密存储的第三方 API Key)
# Generate with: openssl rand -hex 32
API_KEY_ENCRYPTION_KEY=your-encryption-key-here

# 管理员 IP 白名单 (逗号分隔)
ADMIN_IP_WHITELIST=

# ============ 数据库配置 ============
DATABASE_URL=postgresql://user:password@host:5432/quantvision
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# ============ Redis 配置 ============
REDIS_URL=redis://host:6379/0
REDIS_MAX_CONNECTIONS=50

# ============ 日志配置 ============
LOG_LEVEL=WARNING
LOG_FORMAT=json

# ============ CORS 配置 ============
CORS_ORIGINS=https://quantvision.io,https://app.quantvision.io

# ============ 券商 API ============
# Alpaca
ALPACA_API_KEY=your-alpaca-api-key
ALPACA_SECRET_KEY=your-alpaca-secret-key
ALPACA_BASE_URL=https://api.alpaca.markets
ALPACA_PAPER_TRADING=false

# ============ 数据源 API ============
POLYGON_API_KEY=your-polygon-api-key
FRED_API_KEY=your-fred-api-key

# ============ AI API ============
OPENAI_API_KEY=your-openai-api-key
ANTHROPIC_API_KEY=your-anthropic-api-key

# ============ Sentry (错误跟踪) ============
SENTRY_DSN=https://xxx@sentry.io/xxx
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# ============ 邮件配置 ============
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@quantvision.io

# ============ 通知 ============
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx
PAGERDUTY_SERVICE_KEY=your-pagerduty-key

# ============ AWS ============
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
S3_BUCKET_NAME=quantvision-production

# ============ Celery ============
CELERY_BROKER_URL=redis://host:6379/0
CELERY_RESULT_BACKEND=redis://host:6379/1

# ============ 交易限制 ============
TRADING_MAX_POSITION_SIZE=0.05
TRADING_MAX_ORDER_VALUE=100000
TRADING_REQUIRE_2FA=true
TRADING_IP_WHITELIST=

# ============ Grafana ============
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your-secure-password
GRAFANA_ROOT_URL=https://grafana.quantvision.io
